<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Supabase - 10 Primeros</title>
</head>
<body>

<h2>Primeros 10 registros</h2>
<div id="tabla"></div>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
import { createClient } from '@supabase/supabase-js'

const supabaseUrl = 'https://oqzpnivpfnpoqeuewwza.supabase.co'
const supabaseKey = process.env.SUPABASE_KEY
const supabase = createClient(supabaseUrl, supabaseKey)

  async function mostrarDatos() {
    const { data: personas, error } = await supabase
      .from('personas')
      .select('ID_PERSONAS, Nombre, Nota')
      .range(0, 9);  // Leer las primeras 10 filas con paginaci√≥n

    if (error) {
      document.getElementById('tabla').innerHTML = `<p style="color:red;">Error: ${error.message}</p>`;
      return;
    }

    let html = '<table border="1" cellpadding="5"><tr><th>ID</th><th>Nombre</th><th>Nota</th></tr>';
    personas.forEach(p => {
      html += `<tr><td>${p.ID_PERSONAS}</td><td>${p.Nombre}</td><td>${p.Nota}</td></tr>`;
    });
    html += '</table>';
    document.getElementById('tabla').innerHTML = html;
  }

  mostrarDatos();
</script>
</body>
</html>
